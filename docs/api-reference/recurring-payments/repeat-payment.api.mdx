---
id: repeat-payment
title: "Create repeat payment"
description: "Repeat payments are those which will be executed on recurring basis. There are two types of repeat payment."
sidebar_label: "Create repeat payment"
hide_title: true
hide_table_of_contents: true
api: {"tags":["Transactions"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","x-examples":{"Example 1":{"payment_type":"fixed_schedule","customer_name":"John Doe","customer_email":"john.doe@example.com","reference":"payment_12345","frequency":"Months","frequency_duration":2,"first_amount":100.5,"recurring_amount":50.25,"final_amount":75,"is_limited_installments":true,"installments":10,"start_payment_date":"2023-09-16","final_payment_date":"2025-07-16","schedule_set":[]}},"properties":{"payment_type":{"type":"string","description":"Repeat payment type. It must be either of the following values.\n- fixed_schedule\n- variable_schedule"},"customer_name":{"type":"string","description":"Customer name."},"customer_email":{"type":"string","description":"Customer email."},"reference":{"type":"string","description":"Reference value. Unique textual details of the payment."},"frequency":{"type":"string","description":"Payment cycle frequency. It is required for Fixed Schedule payment. Possible values are:\n- Days\n- Weeks\n- Months\n- Years"},"frequency_duration":{"type":"integer","description":"Payment frequency duration. It is required for Fixed Schedule payment."},"first_amount":{"type":"number","description":"First payment amount. For Fixed Schedule payment, first amount value can be customised."},"recurring_amount":{"type":"number","description":"Recurring amount for each instalment. It is required for Fixed Schedule payment."},"final_amount":{"type":"number","description":"Final payment amount. For Fixed Schedule payment, final amount value can be customised."},"is_limited_installments":{"type":"boolean","description":"It is required for Fixed Schedule payment to mention if the process has unlimited or limited instalments. Possible values are:\n- true\n- false"},"installments":{"type":"integer","description":"Number of installments. It is required for Fixed Schedule payment if the process has limited installments."},"start_payment_date":{"type":"string","description":"Date on which the first payment will be captured. It is required for Fixed Schedule payment. Default value set to next day."},"final_payment_date":{"type":"string","description":"Date on which the final payment will be captured. Final date can be customised along with the final amount for Fixed Schedule payment. It must be after start payment date."},"schedule_set":{"type":"object","description":"Schedule set is a array set of date and amount where date will be the key and amount will be its value. It is required for Variable Schedule payment. This array needs to have minimum 2 set of values."}}},"examples":{"Example 1":{"value":{"payment_type":"variable_schedule","customer_name":"test","customer_email":"test@example.com","reference":"variable schedule payment with limited installments","schedule_set":{"13-02-2023":20.02,"16-02-2023":22.02,"19-02-2023":30.02,"25-02-2023":26.02}}},"Example 2":{"value":{"payment_type":"fixed_schedule","customer_name":"test","customer_email":"test@example.com","reference":"fixed schedule payment with limited installments","frequency":"days","frequency_duration":2,"first_amount":20.03,"recurring_amount":15.01,"final_amount":10.08,"is_limited_installments":true,"installments":6,"start_payment_date":"24-10-2023","final_payment_date":"03-11-2023"}}}}}},"parameters":[{"name":"Authorization","in":"header","schema":{"type":"string"},"example":"Bearer {{access_token}}","description":"Bearer eyJ0eXAiOiJKV1QiLCJhbG..."},{"schema":{"type":"string"},"in":"header","name":"Content-Type","description":"application/json"}],"responses":{"200":{"description":"OK","headers":{},"content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"amount":{"type":"integer"},"reference":{"type":"string"},"transaction_id":{"type":"string"}},"x-examples":{"Example 1":{"success":true,"message":"Refunded successfully","amount":"1.01","reference":"refund note","transaction_id":"BL-2349AGB"}}},"example":{"success":true,"message":"Refunded successfully","amount":1,"reference":"Refund Transaction at 07-09-23 10:05:35","transaction_id":"BL-63U4P14ZR5"}}}}},"x-stoplight":{"id":"pchymlk6ly71c"},"description":"Repeat payments are those which will be executed on recurring basis. There are two types of repeat payment. \n\nFixed Scheduled Repeat Payment\n\nHere each payment is taken at a regular frequency for a fixed amount. If a fixed schedule payment is created successfully, it will return html as card_element in response where user will fill in their card details.\n\nVariable Scheduled Repeat Payment\n\nHere each payment’s date and amount set is completely different. If a variable schedule payment is created successfully, it will return html  as card_element in response where user will fill in their card details and submit.\n\nUser need to submit the tokenised card value (paymentToken)  to the Update Repeat Payment request to save the card token for the future transaction.\n\nAfter successful submission, user will get repeat payment id and status as response.\n\nEach request is authenticated using HTTP Basic Auth by adding a bearer token to the header, e.g. Authentication: Bearer {{access_token}}. You can get the {{access_token}} from the create token request.\n\nIn a PHP implementation, payment page may look like this:\n\n```\n<head>\n  ...\n  <script src=\"https://code.jquery.com/jquery-3.6.3.min.js\"></script>\n  <script src=\"https://gateway2.blinkpayment.co.uk/sdk/web/v1/js/hostedfields.min.js\"></script>\n  <script src=\"https://secure.blinkpayment.co.uk/assets/js/api/custom.js\"></script>\n  ...\n</head>\n\n<body>\n    <form method=\"POST\" action=\"update\" id=\"payment\">\n        @csrf\n        {!! $card_element !!}\n        <button type=\"submit\">Submit</button>\n    </form>\n</body>\n```","operationId":"repeat-payment","extensions":[{"key":"x-stoplight","value":{"id":"pchymlk6ly71c"}}],"method":"post","path":"/api/pay/v1/repeat-payments","servers":[{"url":"https://secure.blinkpayment.co.uk"},{"url":"https://gateway2.blinkpayment.co.uk"}],"jsonRequestBodyExample":{"payment_type":"string","customer_name":"string","customer_email":"string","reference":"string","frequency":"string","frequency_duration":0,"first_amount":0,"recurring_amount":0,"final_amount":0,"is_limited_installments":true,"installments":0,"start_payment_date":"string","final_payment_date":"string","schedule_set":{}},"info":{"title":"Blink Payment v1.0.20","description":"Blink Payment API Docs","version":"1.0.0","contact":{"name":"Blink Payment","email":"developers@blinkpayment.co.uk","url":"blinkpayment.co.uk"},"license":{"name":"MIT License","url":"https://opensource.org/licenses/MIT"}},"postman":{"name":"Create repeat payment","description":{"content":"Repeat payments are those which will be executed on recurring basis. There are two types of repeat payment. \n\nFixed Scheduled Repeat Payment\n\nHere each payment is taken at a regular frequency for a fixed amount. If a fixed schedule payment is created successfully, it will return html as card_element in response where user will fill in their card details.\n\nVariable Scheduled Repeat Payment\n\nHere each payment’s date and amount set is completely different. If a variable schedule payment is created successfully, it will return html  as card_element in response where user will fill in their card details and submit.\n\nUser need to submit the tokenised card value (paymentToken)  to the Update Repeat Payment request to save the card token for the future transaction.\n\nAfter successful submission, user will get repeat payment id and status as response.\n\nEach request is authenticated using HTTP Basic Auth by adding a bearer token to the header, e.g. Authentication: Bearer {{access_token}}. You can get the {{access_token}} from the create token request.\n\nIn a PHP implementation, payment page may look like this:\n\n```\n<head>\n  ...\n  <script src=\"https://code.jquery.com/jquery-3.6.3.min.js\"></script>\n  <script src=\"https://gateway2.blinkpayment.co.uk/sdk/web/v1/js/hostedfields.min.js\"></script>\n  <script src=\"https://secure.blinkpayment.co.uk/assets/js/api/custom.js\"></script>\n  ...\n</head>\n\n<body>\n    <form method=\"POST\" action=\"update\" id=\"payment\">\n        @csrf\n        {!! $card_element !!}\n        <button type=\"submit\">Submit</button>\n    </form>\n</body>\n```","type":"text/plain"},"url":{"path":["api","pay","v1","repeat-payments"],"host":["{{baseUrl}}"],"query":[],"variable":[]},"header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"\"\"","options":{"raw":{"language":"json"}}}}}
sidebar_class_name: "post api-method"
info_path: docs/api-reference/blink-payment-v-1-0-20
custom_edit_url: null
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiDemoPanel/MethodEndpoint";
import SecuritySchemes from "@theme/ApiDemoPanel/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Create repeat payment</h1>

<MethodEndpoint method={"post"} path={"/api/pay/v1/repeat-payments"}></MethodEndpoint>

<SecuritySchemes infoPath={"docs/api-reference/blink-payment-v-1-0-20"}></SecuritySchemes>



Repeat payments are those which will be executed on recurring basis. There are two types of repeat payment. 

Fixed Scheduled Repeat Payment

Here each payment is taken at a regular frequency for a fixed amount. If a fixed schedule payment is created successfully, it will return html as card_element in response where user will fill in their card details.

Variable Scheduled Repeat Payment

Here each payment’s date and amount set is completely different. If a variable schedule payment is created successfully, it will return html  as card_element in response where user will fill in their card details and submit.

User need to submit the tokenised card value (paymentToken)  to the Update Repeat Payment request to save the card token for the future transaction.

After successful submission, user will get repeat payment id and status as response.

Each request is authenticated using HTTP Basic Auth by adding a bearer token to the header, e.g. Authentication: Bearer {{access_token}}. You can get the {{access_token}} from the create token request.

In a PHP implementation, payment page may look like this:

```
<head>
  ...
  <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
  <script src="https://gateway2.blinkpayment.co.uk/sdk/web/v1/js/hostedfields.min.js"></script>
  <script src="https://secure.blinkpayment.co.uk/assets/js/api/custom.js"></script>
  ...
</head>

<body>
    <form method="POST" action="update" id="payment">
        @csrf
        {!! $card_element !!}
        <button type="submit">Submit</button>
    </form>
</body>
```

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Header Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Authorization","in":"header","schema":{"type":"string"},"example":"Bearer {{access_token}}","description":"Bearer eyJ0eXAiOiJKV1QiLCJhbG..."}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"schema":{"type":"string"},"in":"header","name":"Content-Type","description":"application/json"}}></ParamsItem></ul></div></details><MimeTabs className={"openapi-tabs__mime"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"payment_type"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Repeat payment type. It must be either of the following values.\n- fixed_schedule\n- variable_schedule"}}></SchemaItem><SchemaItem collapsible={false} name={"customer_name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Customer name."}}></SchemaItem><SchemaItem collapsible={false} name={"customer_email"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Customer email."}}></SchemaItem><SchemaItem collapsible={false} name={"reference"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Reference value. Unique textual details of the payment."}}></SchemaItem><SchemaItem collapsible={false} name={"frequency"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Payment cycle frequency. It is required for Fixed Schedule payment. Possible values are:\n- Days\n- Weeks\n- Months\n- Years"}}></SchemaItem><SchemaItem collapsible={false} name={"frequency_duration"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"Payment frequency duration. It is required for Fixed Schedule payment."}}></SchemaItem><SchemaItem collapsible={false} name={"first_amount"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"First payment amount. For Fixed Schedule payment, first amount value can be customised."}}></SchemaItem><SchemaItem collapsible={false} name={"recurring_amount"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Recurring amount for each instalment. It is required for Fixed Schedule payment."}}></SchemaItem><SchemaItem collapsible={false} name={"final_amount"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Final payment amount. For Fixed Schedule payment, final amount value can be customised."}}></SchemaItem><SchemaItem collapsible={false} name={"is_limited_installments"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"It is required for Fixed Schedule payment to mention if the process has unlimited or limited instalments. Possible values are:\n- true\n- false"}}></SchemaItem><SchemaItem collapsible={false} name={"installments"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"Number of installments. It is required for Fixed Schedule payment if the process has limited installments."}}></SchemaItem><SchemaItem collapsible={false} name={"start_payment_date"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Date on which the first payment will be captured. It is required for Fixed Schedule payment. Default value set to next day."}}></SchemaItem><SchemaItem collapsible={false} name={"final_payment_date"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Date on which the final payment will be captured. Final date can be customised along with the final amount for Fixed Schedule payment. It must be after start payment date."}}></SchemaItem><SchemaItem collapsible={false} name={"schedule_set"} required={false} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object","description":"Schedule set is a array set of date and amount where date will be the key and amount will be its value. It is required for Variable Schedule payment. This array needs to have minimum 2 set of values."}}></SchemaItem></ul></details></TabItem></MimeTabs><div><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

OK

</div><details style={{"textAlign":"left","marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collaposed={true} open={false}><summary style={{}}><strong>Response Headers</strong></summary><ul style={{"marginLeft":"1rem"}}></ul></details><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"success"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean"}}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"amount"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer"}}></SchemaItem><SchemaItem collapsible={false} name={"reference"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"transaction_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"success\": true,\n  \"message\": \"string\",\n  \"amount\": 0,\n  \"reference\": \"string\",\n  \"transaction_id\": \"string\"\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"success\": true,\n  \"message\": \"Refunded successfully\",\n  \"amount\": 1,\n  \"reference\": \"Refund Transaction at 07-09-23 10:05:35\",\n  \"transaction_id\": \"BL-63U4P14ZR5\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      